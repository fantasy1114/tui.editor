<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>DEMO</title>
    <script src="../lib/marked/lib/marked.js"></script>
    <script src="../lib/toMark/dist/toMark.js"></script>
    <script src="../lib/jquery/dist/jquery.js"></script>
    <script src="../lib/tui-code-snippet/code-snippet.js"></script>
    <script src="../lib/codemirror/lib/codemirror.js"></script>
    <script src="../lib/highlightjs/highlight.pack.js"></script>
    <script src="../lib/Squire/build/squire-raw.js"></script>
    <link rel="stylesheet" href="../lib/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="../lib/highlightjs/styles/github.css">
    <link rel="stylesheet" href="../src/css/tui-editor.css">
    <link rel="stylesheet" href="../src/css/tui-editor-contents.css">
    <style type="text/css">
      .cm-header { color:blue; }
      .cm-strong { font-weight:bold; }
    </style>
</head>
<body>
<div id="editSection"></div>
<script src="/build/bundle.js"></script>
<script>
    if (!window.console || !console.log) {
        window.console = {};
        window.console.log = function(){};
    }

    $('#editSection').tuiEditor({
        previewStyle: 'vertical',
        height: 800,
        //initialValue: 'a\nb\nc\nd\ne\nf\ng\n\na\nb\nc\nd\ne\nf\ng\n\na\nb\nc\nd\ne\nf\ng\n\n',
        //initialValue: 'test1\ntest2\ntest3\ntest4',
        contentCSSStyles: [
            '../src/css/tui-editor-contents.css'
        ],
        //initialEditType: 'markdown',
        initialEditType: 'wysiwyg',
        textPalette: {
            triggers: '@',
            querySender: function(query, done) {
                done([1,2,3]);
            }
        },
        exts: ['scrollFollow', 'colorSyntax', 'textPalette'],
        hooks: {
            'previewBeforeHook': function($dom) {
                //console.log('previewBeforeHook', $dom);
            },
            'addImageFileHook': function($form, callback) {
                $form.find('.imageFileInput').attr('name','fileName');
                $form[0].action = 'http://posttestserver.com/post.php';
                $form[0].method = 'POST';
                $form[0].submit();
                //callback으로 url전달
                //callback('이미지URL');
            }
        },
        events: {
            'load': function(ed) {
                //ed.setValue('awefwaefwefwefewa\n\n\nawefwaefawefwae\n\n\n\naewfwaefawefewf\nwaefwaefawfwae');
                //ed.getCodeMirror().setValue('awefwaefwefwefewa\n\n\nawefwaefawefwae\n\n\n\naewfwaefawefewf\nwaefwaefawfwae');
            }
        }
    });
</script>
</body>
</html>
